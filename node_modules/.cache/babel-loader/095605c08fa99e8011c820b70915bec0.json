{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nvar _jsxFileName = \"C:\\\\Users\\\\play\\\\Desktop\\\\react-admin-project\\\\src\\\\containers\\\\category\\\\category.jsx\";\nimport React, { Component } from 'react';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { reqCategoryList } from '../../api/index';\nimport { PAGE_SIZE } from '../../config/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Item\n} = _Form;\nexport default class Category extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categoryList: [],\n      visible: false,\n      operType: '' //操作类型（新增、修改）\n\n    };\n    this.form = _Form.useForm();\n\n    this.update = a => {\n      console.log(a);\n    };\n\n    this.getCategotyList = async () => {\n      let result = await reqCategoryList();\n      const {\n        status,\n        data,\n        msg\n      } = result;\n\n      if (status === 0) {\n        this.setState({\n          categoryList: data\n        });\n      } else {\n        _message.error(msg, 1);\n      }\n    };\n\n    this.onFinish = async () => {\n      const value = await form.validateFields();\n      console.log(values);\n    };\n\n    this.showAdd = () => {\n      this.setState({\n        operType: 'add',\n        visible: true\n      });\n    };\n\n    this.showUpdate = () => {\n      this.setState({\n        operType: 'update',\n        visible: true\n      });\n    };\n\n    this.handleOk = () => {\n      const {\n        operType\n      } = this.state;\n\n      if (operType === 'add') {}\n\n      if (operType === 'update') {}\n\n      form.resetFields();\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleCancel = () => {\n      form.resetFields();\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.formRef = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidMount() {\n    this.getCategotyList();\n  }\n\n  render() {\n    const dataSource = this.state.categoryList;\n    const {\n      visible,\n      operType\n    } = this.state;\n    const columns = [{\n      title: '分类名',\n      dataIndex: 'name',\n      key: 'name'\n    }, {\n      title: '操作',\n      //dataIndex: 'age',\n      key: 'age',\n      render: a => {\n        return /*#__PURE__*/_jsxDEV(_Button, {\n          type: \"link\",\n          onClick: this.showUpdate,\n          children: \"\\u4FEE\\u6539\\u5206\\u7C7B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this);\n      },\n      width: '25%',\n      align: 'center'\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(_Card, {\n        extra: /*#__PURE__*/_jsxDEV(_Button, {\n          type: \"primary\",\n          onClick: this.showAdd,\n          icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 80\n          }, this),\n          children: \"\\u6DFB\\u52A0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 28\n        }, this),\n        children: [/*#__PURE__*/_jsxDEV(_Table, {\n          dataSource: dataSource,\n          columns: columns,\n          rowKey: \"_id\",\n          pagination: {\n            pageSize: PAGE_SIZE\n          },\n          bordered: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), \";\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n        title: operType === 'add' ? '新增分类' : '修改分类',\n        visible: visible,\n        onOk: this.handleOk,\n        onCancel: this.handleCancel,\n        okText: \"\\u786E\\u5B9A\",\n        cancelText: \"\\u53D6\\u6D88\",\n        children: /*#__PURE__*/_jsxDEV(_Form, {\n          name: \"normal_login\",\n          className: \"login-form\",\n          onFinish: this.onFinish,\n          children: /*#__PURE__*/_jsxDEV(Item, {\n            name: \"username\",\n            rules: [{\n              required: true,\n              whitespace: true,\n              message: '分类名必须输入'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {\n              placeholder: \"\\u8BF7\\u8F93\\u5165\\u5206\\u7C7B\\u540D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/play/Desktop/react-admin-project/src/containers/category/category.jsx"],"names":["React","Component","PlusOutlined","reqCategoryList","PAGE_SIZE","Item","Category","state","categoryList","visible","operType","form","useForm","update","a","console","log","getCategotyList","result","status","data","msg","setState","error","onFinish","value","validateFields","values","showAdd","showUpdate","handleOk","resetFields","handleCancel","formRef","createRef","componentDidMount","render","dataSource","columns","title","dataIndex","key","width","align","pageSize","required","whitespace","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Card, message, Table, Modal, Form, Input } from 'antd'\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { reqCategoryList } from '../../api/index'\r\nimport { PAGE_SIZE } from '../../config/index'\r\n\r\nconst {Item} = Form\r\n\r\nexport default class Category extends Component {\r\n    state = {\r\n        categoryList: [],\r\n        visible: false,\r\n        operType: ''//操作类型（新增、修改）\r\n    }\r\n    form = Form.useForm()\r\n    update = (a) => {\r\n        console.log(a)\r\n    }\r\n    getCategotyList = async () => {\r\n        let result = await reqCategoryList()\r\n        const { status, data, msg } = result\r\n        if (status === 0) {\r\n            this.setState({ categoryList: data })\r\n        } else {\r\n            message.error(msg, 1)\r\n        }\r\n    }\r\n\r\n    onFinish = async() => {\r\n        const value = await form.validateFields()\r\n        console.log(values)\r\n    }\r\n\r\n    showAdd = () => {\r\n        this.setState({\r\n            operType: 'add',\r\n            visible: true,\r\n        });\r\n    };\r\n\r\n    showUpdate = () => {\r\n        this.setState({\r\n            operType: 'update',\r\n            visible: true,\r\n        });\r\n    };\r\n\r\n    handleOk = () => {\r\n        const {operType} = this.state\r\n        if(operType === 'add'){\r\n\r\n        }\r\n        if(operType === 'update'){\r\n            \r\n        }\r\n        \r\n        form.resetFields()\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n\r\n    handleCancel = () => {\r\n        form.resetFields()\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getCategotyList()\r\n    }\r\n\r\n    formRef = React.createRef()\r\n\r\n    render() {\r\n        const dataSource = this.state.categoryList\r\n        const {visible, operType} = this.state\r\n\r\n        const columns = [\r\n            {\r\n                title: '分类名',\r\n                dataIndex: 'name',\r\n                key: 'name',\r\n            },\r\n            {\r\n                title: '操作',\r\n                //dataIndex: 'age',\r\n                key: 'age',\r\n                render: (a) => {\r\n                    return (\r\n                        <Button type=\"link\" onClick={this.showUpdate}>修改分类</Button>\r\n                    )\r\n                },\r\n                width: '25%',\r\n                align: 'center'\r\n            },\r\n        ];\r\n        return (\r\n            <div>\r\n                <Card\r\n                    extra={<Button type=\"primary\" onClick={this.showAdd} icon={<PlusOutlined />}>添加</Button>}\r\n                >\r\n                    <Table\r\n                        dataSource={dataSource}\r\n                        columns={columns}\r\n                        rowKey=\"_id\"\r\n                        pagination={{ pageSize: PAGE_SIZE }}\r\n                        bordered\r\n                    />;\r\n                </Card>\r\n                <Modal \r\n                    title={operType === 'add' ? '新增分类':'修改分类'}\r\n                    visible={visible} \r\n                    onOk={this.handleOk} \r\n                    onCancel={this.handleCancel}\r\n                    okText=\"确定\"\r\n                    cancelText=\"取消\"\r\n                >\r\n                    <Form name=\"normal_login\" className=\"login-form\" onFinish={this.onFinish}>\r\n                        <Item name=\"username\" rules={[\r\n                            { required: true, whitespace: true, message: '分类名必须输入' }]}>\r\n\r\n                            <Input\r\n                                placeholder=\"请输入分类名\"\r\n                            />\r\n                        </Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}